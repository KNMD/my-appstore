const defaultAppData = {
    "name": "My App Store",
    "short_name": "My App Store",
    "icons": [
        
      {
        "src": "/icons/img-192.png",
        "sizes": "192x192",
        "type": "image/png",
        "purpose": "any maskable"
      },
      {
        "src": "/icons/img-384.png",
        "sizes": "384x384",
        "type": "image/png"
      },
      {
        "src": "/icons/img-512.png",
        "sizes": "512x512",
        "type": "image/png"
      }
    ],
    "theme_color": "#FFFFFF",
    "background_color": "#FFFFFF",
    "start_url": "/",
    "display": "standalone",
    "orientation": "portrait",
    "ext": {
        "remote_icon": "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/landingpage/ICON_+(1).png",
        "company": "company",
        "verify": "Verified by App",
        "labels": [{
            "name": "890K reviews",
            "display": "4k",
            "icon": "TbStarFilled",
            "wrapper": false
        },{
            "name": "890K reviews",
            "display": "4k",
            "icons": "",
            "wrapper": false
        },{
            "name": "890K reviews",
            "display": "4k",
            "icons": "",
            "wrapper": true
        }],
        "links": [{
            "icon": "TbShare",
            "text": "Share"
        }, {
            "icon": "TbShoppingCartPlus",
            "text": "Add to wishlist"
        }],
        "vertical_rect": {"w": "120px", "h": "200px"},
        "landscape_rect": {"w": "200px", "h": "113px"},
        "pictures": [{
            "url": "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/landingpage/lbd1.png",
            "alt": "aaa",
        },{
            "url": "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/landingpage/lbd2.png",
            "alt": "aaa"
        },{
            "url": "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/landingpage/lbd3.png",
            "alt": "aaa"
        },{
            "url": "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/landingpage/lbd4.png",
            "alt": "aaa"
        },{
            "url": "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/landingpage/lbd5.png",
            "alt": "aaa"
        }],
        "landscape": [{
            "url": "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/app/6754f7a8b9c0d1e2f3a4b5c6d7e8f9a0/%E5%9B%BE1.png",
            "alt": "aaa"
        },{
            "url": "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/app/6754f7a8b9c0d1e2f3a4b5c6d7e8f9a0/%E5%9B%BE2.png",
            "alt": "aaa"
        },{
            "url": "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/app/6754f7a8b9c0d1e2f3a4b5c6d7e8f9a0/%E5%9B%BE3.png",
            "alt": "aaa"
        },{
            "url": "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/app/6754f7a8b9c0d1e2f3a4b5c6d7e8f9a0/%E5%9B%BE4.png",
            "alt": "aaa"
        },{
            "url": "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/app/6754f7a8b9c0d1e2f3a4b5c6d7e8f9a0/%E5%9B%BE5.png",
            "alt": "aaa"
        }],
        "sections": [{
            "label": "About this app",
            "description": "Entre no emocionante mundo do Pjogo.com - 777 PJOGO! Este jogo de cassino oferece uma variedade de máquinas caça-níqueis temáticas e desafios emocionantes para jogadores de todos os níveis. Gire os rolos, acumule prêmios e desbloqueie recursos especiais enquanto busca grandes vitórias. Com gráficos vibrantes e jackpots empolgantes, este é o seu caminho para a diversão e riqueza. Baixe agora e comece a apostar com o 777 PJOGO! \n\n 1.   Primeiro depósito de R$20 ou mais recebe um bônus de 200%, com um bônus máximo de R$ 2000.\n 2.    Faça o download do aplicativo oficial e ganhe R$ 9.\n 3.    Jogue a roleta de dinheiro gratuita e ganhe R$ 100. Compartilhe com amigos para se tornar um agente e desfrute de uma comissão máxima de 2,6%.\n 4.    Receba red envelopes gratuitos todos os dias, totalizando R$ 100.000, com até 6 oportunidades por dia e um prêmio máximo de R$ 7777.\n 5.   Siga o Pjogo.com PGTaDa.com no Instagram, Telegram e receba envelopes vermelhos de eventos no valor de R$ 2 todos os dias.\n 6.    Reembolsamos o valor das perdas dos novos jogadores todas as segundas-feiras, com um reembolso máximo de R$ 10000."
        }],
        "download": "https://ak777-public.s3.ap-south-1.amazonaws.com/apk/ak777game.apk",
        "downloadNumber": 566, 
        "landing": {
            "backgrounds": [
                "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/landingpage/bd1.png",
                "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/landingpage/bd2.png",
                "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/landingpage/bd3.png",
                "https://s3.ap-south-1.amazonaws.com/s3.lanwzh.com/landingpage/bd4.png"
            ]
        },
        "liveRoomInfo": {
            "follows": 8092,
            "nickname": "Jerry Wang",
            "avatarUrl": "https://wx.qlogo.cn/mmhead/Q3auHgzwzM5e7zoGwzbStibbUYEyvzA1M5Aa9K2tdcribjaxV7B8C5GQ/0/132"
        },
        "roomUsers": [
            {
                "nickname": "鸟啊鸟",
                "avatarUrl": "https://wx.qlogo.cn/mmhead/edsOKzKA7IsHicWEMWibdudrqevbQ9ujA5s3yd690iayPw/0/132"
            },
            {
                "nickname": "   ",
                "avatarUrl": "https://wx.qlogo.cn/mmhead/trJZoMpSYgCXZgkMuPWxImIHkIcGYv5zAfvB3VWJA9s/0/132"
            },
            {
                "nickname": "Kong",
                "avatarUrl": "https://wx.qlogo.cn/mmhead/TMFbOuZjI762Yltz1ja9v66DVz8ObicfFUQl06SibMtvA/0/132"
            },
        ],
        "commentUser": {
            "nickname": "蜗牛侠 ",
            "avatarUrl": "https://wx.qlogo.cn/mmhead/xRIo4kyKic7nAUyh0nGLkxrVWMdaL0JV25QciaqJ2C7PA/132"
        },
        "roomUsersCount": 88,
        "pop_inverval": {"min": 3000, "max": 6000},
        "comments": [
            "Cool!", 
            "666!!!", 
            "What this game?", 
            "Hurry up and seektreatment. He's dying",
            "Fifth personality",
            "Beautiful kill",
            "Nice"
        ],
        "comment_inverval": {"min": 2000, "max": 5000},
    }
}

export async function getAppData(appId) {
    console.log('param appId: ', appId)
    if(appId === '1234' || appId === 'info' || !appId) {
        return defaultAppData
    }
    // 使用 fetch 或其他方法从 API 获取数据
    const revalidate = parseInt(process.env.NEXT_PUBLIC_APP_CACHE, 10)
    const urlPattern = process.env.NEXT_PUBLIC_RESOURCE_URL_PATTERN
    const url = urlPattern.replace("{appId}", appId)
    console.log("request manifest url: ", url)
    try {
        const res = await fetch(url, { cache: 'force-cache', next: { revalidate: revalidate } });
        if(!res.ok) {
            return defaultAppData
        }
        const data = await res.json();
        console.log("get data: ", data)
        // 将获取的数据作为 props 传递给页面组件
        return data
    }catch(e) {
        console.error("fetch error: ", e)
        return defaultAppData
    }
    
}